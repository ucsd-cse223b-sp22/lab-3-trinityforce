import matplotlib.pyplot as plt
import numpy as np

def log_lock_6000():
    op_count = np.array([1500, 3000, 4500, 6000])
    lock_rw7 = np.array([14.930, 29.791, 44.279, 58.267])
    log_rw7 = np.array([18.637, 39.349, 59.221, 85.278])
    lock_rw3 = np.array([14.506, 28.781, 42.347, 56.472])
    log_rw3 = np.array([16.254, 35.588, 55.881, 78.659])
    fig = plt.figure()
    plt.xlabel("Number of operations")
    plt.ylabel("Time")
    plt.title("#Opration v.s. Time")
    plt.plot(op_count, lock_rw7, 'b--', linewidth=2, label = "lock-7:3")
    plt.plot(op_count, log_rw7, 'b-', linewidth=2, label = "log-7:3")
    plt.plot(op_count, lock_rw3, 'r--', linewidth=2, label = "lock-3:7")
    plt.plot(op_count, log_rw3, 'r-', linewidth=2, label = "log-3:7")
    plt.plot(op_count, log_rw7-lock_rw7, 'b:', linewidth=2, label = "diff-log-lock-7:3")
    plt.plot(op_count, log_rw3-lock_rw3, 'r:', linewidth=2, label = "diff-log-lock-3:7")
    plt.legend()
    fig.savefig("log_lock_performance_6000.png")
    plt.close(fig)

def log_lock_10000():
    op_count = np.array([1500, 3000, 4500, 6000, 10000])
    lock_rw7 = np.array([14.930, 29.791, 44.279, 58.267, 142.495])
    log_rw7 = np.array([18.637, 39.349, 59.221, 85.278, 204.917])
    lock_rw3 = np.array([14.506, 28.781, 42.347, 56.472, 134.691])
    log_rw3 = np.array([16.254, 35.588, 55.881, 78.659, 197.379])
    fig = plt.figure()
    plt.xlabel("Number of operations")
    plt.ylabel("Time")
    plt.title("#Opration v.s. Time")
    plt.plot(op_count, lock_rw7, 'b--', linewidth=2, label = "lock-7:3")
    plt.plot(op_count, log_rw7, 'b-', linewidth=2, label = "log-7:3")
    plt.plot(op_count, lock_rw3, 'r--', linewidth=2, label = "lock-3:7")
    plt.plot(op_count, log_rw3, 'r-', linewidth=2, label = "log-3:7")
    plt.plot(op_count, log_rw7-lock_rw7, 'b:', linewidth=2, label = "diff-log-lock-7:3")
    plt.plot(op_count, log_rw3-lock_rw3, 'r:', linewidth=2, label = "diff-log-lock-3:7")
    plt.legend()
    fig.savefig("log_lock_performance_10000.png")
    plt.close(fig)

log_lock_6000()
log_lock_10000()